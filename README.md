# add_ssh_key.sh

–ú–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π Bash-—Å–∫—Ä–∏–ø—Ç –¥–ª—è —Å—Ç–∞—Ä—Ç–∞ `ssh-agent` –∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø—Ä–∏–≤–∞—Ç–Ω–æ–≥–æ –∫–ª—é—á–∞ –∏–∑ `~/.ssh`

## –û–ø–∏—Å–∞–Ω–∏–µ
- ‚úÖ –í—Å–µ–≥–¥–∞ –∑–∞–ø—É—Å–∫–∞–µ—Ç `ssh-agent`, –¥–∞–∂–µ –µ—Å–ª–∏ –æ–Ω –Ω–µ –∑–∞–ø—É—â–µ–Ω  
- üîç –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ —Ñ–∞–π–ª–∞ –ø—Ä–∏–≤–∞—Ç–Ω–æ–≥–æ –∫–ª—é—á–∞  
- ‚ûï –î–æ–±–∞–≤–ª—è–µ—Ç –∫–ª—é—á –≤ –∞–≥–µ–Ω—Ç –±–µ–∑ –ª–∏—à–Ω–∏—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫  
- ‚ö°Ô∏è –ù–µ —Ç—Ä–µ–±—É–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏ ‚Äî –º–æ–∂–Ω–æ —Å—Ä–∞–∑—É –∑–∞–ø—É—Å–∫–∞—Ç—å —á–µ—Ä–µ–∑ `curl | bash`

## –ö–æ–¥ —Å–∫—Ä–∏–ø—Ç–∞
```bash
#!/usr/bin/env bash
set -euo pipefail

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞—Ä–≥—É–º–µ–Ω—Ç–∞
[[ $# -eq 1 ]] || {
  echo "–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: $0 <–∏–º—è_–∫–ª—é—á–∞_–≤_~/.ssh>" >&2
  exit 1
}

KEY="$HOME/.ssh/$1"

# –£–±–µ–¥–∏–º—Å—è, —á—Ç–æ —Ñ–∞–π–ª –µ—Å—Ç—å
[[ -f $KEY ]] || {
  echo "–û—à–∏–±–∫–∞: $KEY –Ω–µ –Ω–∞–π–¥–µ–Ω" >&2
  exit 2
}

# 1) –ó–∞–ø—É—Å–∫–∞–µ–º ssh-agent
eval "$(ssh-agent -s)" >/dev/null

# 2) –î–æ–±–∞–≤–ª—è–µ–º –∫–ª—é—á
ssh-add "$KEY" \
  && echo "‚úî –ö–ª—é—á '$1' –¥–æ–±–∞–≤–ª–µ–Ω –≤ ssh-agent"
```
–ù–∏–∂–µ –≤ –ø—Ä–∏–º–µ—Ä–∞—Ö `id_rsa` - —ç—Ç–æ –Ω–∞–∑–≤–∞–Ω–∏–µ –≤–∞—à–µ–≥–æ –∫–ª—é—á–∞. –ï—Å–ª–∏ –≤–∞—à –∫–ª—é—á –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è `github`, —Ç–æ –ø–æ–º–µ–Ω—è–π—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–ª—é—á–∞ –≤ –ø—Ä–∏–º–µ—Ä–µ –Ω–∞ `github`.

## –ü—Ä–∏–º–µ—Ä –æ–¥–∏–Ω–æ—á–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞
```bash
eval "$(ssh-agent -s)"
source <(curl -sL https://raw.githubusercontent.com/mashida/linux_cmd/main/add_ssh_key.sh) id_rsa
```

## –ü—Ä–∏–º–µ—Ä ¬´—É—Å—Ç–∞–Ω–æ–≤–∫–∏¬ª –≤ `~/bin`
```bash
curl -sL https://raw.githubusercontent.com/mashida/linux_cmd/main/add_ssh_key.sh \
  -o ~/bin/add_ssh_key.sh \
  && chmod +x ~/bin/add_ssh_key.sh

# –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ ~/bin/ –≤ PATH, –∏ –¥–∞–ª—å—à–µ:
add_ssh_key.sh id_rsa
```
